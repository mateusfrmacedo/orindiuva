<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="description" content="Acompanhe Orindiúva ao vivo. Câmeras, clima e informações em tempo real.">
<title>Orindiúva Ao Vivo</title>

<style>
:root {
  --sf: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  
  /* Cores Light */
  --bg-light: #f0f2f5;
  --text-light: #1c1c1e;
  --glass-light: rgba(255, 255, 255, 0.75);
  --border-light: rgba(255, 255, 255, 0.6);

  /* Cores Dark */
  --bg-dark: #000000;
  --text-dark: #f2f2f7;
  --glass-dark: rgba(28, 28, 30, 0.75);
  --border-dark: rgba(255, 255, 255, 0.12);
}

* { box-sizing: border-box; }

html, body {
  margin: 0; padding: 0; height: 100%;
  font-family: var(--sf);
  background: var(--bg-light);
  color: var(--text-light);
  transition: background 0.3s ease, color 0.3s ease;
  overflow-x: hidden;
}

body.dark {
  background: var(--bg-dark);
  color: var(--text-dark);
}

/* Fundo Dinâmico */
.bg-animated {
  position: fixed; inset: 0; z-index: -2;
  transition: opacity 1s ease;
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Container Principal */
.site {
  max-width: 1200px;
  margin: 0 auto;
  padding: 40px 24px;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 32px;
}

.title-box h1 {
  margin: 0;
  font-size: clamp(28px, 5vw, 48px);
  font-weight: 800;
  letter-spacing: -1px;
  color: inherit; 
}

.status-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 600;
  color: #ff3b30;
  background: rgba(255, 59, 48, 0.1);
  padding: 4px 10px;
  border-radius: 20px;
  margin-top: 5px;
}
.pulse {
  width: 8px; height: 8px;
  background: currentColor;
  border-radius: 50%;
  animation: pulse 1.5s infinite;
}
@keyframes pulse { 0% { opacity: 1; } 50% { opacity: .4; } 100% { opacity: 1; } }

/* Botão Tema */
.theme-toggle {
  width: 48px; height: 48px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background: var(--glass-light);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(0,0,0,0.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  
  /* Centralização corrigida */
  display: grid; 
  place-items: center;
  padding: 0;
  
  transition: transform 0.2s, background 0.3s;
}
body.dark .theme-toggle {
  background: var(--glass-dark);
  border: 1px solid var(--border-dark);
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
.theme-toggle:active { transform: scale(0.92); }

/* Ícones do Tema */
.theme-toggle svg { width: 24px; height: 24px; stroke-width: 2; transition: stroke 0.3s; }

/* Info Bar (Clima e Hora) */
.info-bar {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 20px;
  margin-bottom: 30px;
}
@media (max-width: 600px) {
  .info-bar { grid-template-columns: 1fr; }
}

.glass-panel {
  padding: 20px;
  border-radius: 24px;
  background: var(--glass-light);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--border-light);
  box-shadow: 0 8px 32px rgba(0,0,0,0.05);
}
body.dark .glass-panel {
  background: var(--glass-dark);
  border: 1px solid var(--border-dark);
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
}

.weather-content { display: flex; align-items: center; gap: 15px; }
.temp-big { font-size: 32px; font-weight: 700; }
.weather-details { display: flex; flex-direction: column; justify-content: center; }

/* Fonte do Clima Aumentada */
#chipCond { 
  font-size: 20px; /* Aumentado */
  opacity: 1; 
  font-weight: 600; 
  letter-spacing: -0.5px;
}

.time-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-variant-numeric: tabular-nums;
  font-size: 20px;
  font-weight: 600;
  text-align: center;
  min-width: 180px;
}

/* Player de Vídeo */
.video-container {
  position: relative;
  width: 100%;
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.15);
  aspect-ratio: 16/9;
  background: #000;
}
.video-container iframe {
  width: 100%; height: 100%; border: 0;
}

/* Footer & Doação */
.site-footer {
  margin-top: auto;
  padding-top: 60px;
  text-align: center;
  padding-bottom: 20px;
}

.donation-card {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  padding: 30px;
  max-width: 500px;
  width: 100%;
  margin: 0 auto;
}

.donation-title { font-size: 18px; font-weight: 700; margin-bottom: 8px; }
.donation-desc { font-size: 14px; opacity: 0.7; margin-bottom: 20px; max-width: 300px; line-height: 1.5; }

.btn-donate {
  position: relative;
  display: flex; align-items: center; gap: 10px;
  padding: 12px 24px;
  border-radius: 14px;
  border: none;
  background: linear-gradient(135deg, #32bcad 0%, #229a8e 100%); /* Cor Pix */
  color: #fff;
  font-size: 16px; font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 15px rgba(50, 188, 173, 0.3);
}
.btn-donate:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(50, 188, 173, 0.4);
}
.btn-donate:active { transform: translateY(0); }

.copy-feedback {
  position: absolute;
  top: -40px;
  background: #333;
  color: #fff;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 12px;
  opacity: 0;
  pointer-events: none;
  transform: translateY(10px);
  transition: all 0.3s;
}
.copy-feedback.show { opacity: 1; transform: translateY(0); }

</style>
</head>

<body>

<div id="bgAnimated" class="bg-animated"></div>

<div class="site">

  <header class="header">
    <div class="title-box">
      <h1>Orindiúva ao vivo</h1>
      <div class="status-badge">
        <div class="pulse"></div> EM TEMPO REAL
      </div>
    </div>

    <button id="themeToggle" class="theme-toggle" aria-label="Alternar tema">
      <svg id="moonIcon" viewBox="0 0 24 24" fill="none" stroke="#1c1c1e" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 0 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
      </svg>
      <svg id="sunIcon" style="display:none" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="5"></circle>
        <line x1="12" y1="1" x2="12" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="23"></line>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
        <line x1="1" y1="12" x2="3" y2="12"></line>
        <line x1="21" y1="12" x2="23" y2="12"></line>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
      </svg>
    </button>
  </header>

  <div class="info-bar">
    <div class="glass-panel weather-chip">
      <div class="weather-content">
        <div class="temp-big" id="chipTemp">--°</div>
        <div class="weather-details">
          <span id="chipCond">Carregando...</span>
        </div>
      </div>
    </div>

    <div class="glass-panel time-box" id="topClock">
      --:--:--
    </div>
  </div>

  <section class="video-container">
    <iframe
      src="https://www.youtube.com/embed/YOUR_VIDEO_ID?autoplay=1&mute=1&controls=1&rel=0&modestbranding=1"
      title="Câmera ao vivo"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen>
    </iframe>
  </section>

  <footer class="site-footer">
    <div class="glass-panel donation-card">
      <div class="donation-title">Gostou?</div>
      <div class="donation-desc">Ajude a manter a câmera online e o site atualizado. Qualquer valor é bem-vindo! :)</div>
      
      <button class="btn-donate" id="pixButton">
        <div class="copy-feedback" id="pixFeedback">Chave copiada!</div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path>
          <line x1="4" y1="22" x2="4" y2="15"></line>
        </svg>
        Copiar Chave Pix
      </button>
    </div>
  </footer>

</div>

<script>
/* --- CONFIGURAÇÕES --- */
const MINHA_CHAVE_PIX = "mateus.freitas@me.com"; // <-- CHAVE ATUALIZADA

/* 1. Lógica do Fundo Dinâmico */
function applyGradient(){
  const h = new Date().getHours();
  const bg = document.getElementById("bgAnimated");
  let g = 'linear-gradient(to bottom right, #0f2027, #203a43, #2c5364)'; 
  
  if(h >= 6 && h < 12) {
    g = 'linear-gradient(to bottom right, #83a4d4, #b6fbff)';
  } else if(h >= 12 && h < 17) {
    g = 'linear-gradient(to bottom right, #2980b9, #6dd5fa, #ffffff)';
  } else if(h >= 17 && h < 19) {
    g = 'linear-gradient(to bottom right, #ff9966, #ff5e62)';
  }
  bg.style.background = g;
}
applyGradient();
setInterval(applyGradient, 60000);

/* 2. Tema (Dark/Light) */
const themeBtn = document.getElementById('themeToggle');
const sun = document.getElementById('sunIcon');
const moon = document.getElementById('moonIcon');
let theme = localStorage.getItem('theme') || 'light';

function applyTheme(t){
  if(t === 'dark'){
    document.body.classList.add('dark');
    sun.style.display = 'block';
    moon.style.display = 'none';
  } else {
    document.body.classList.remove('dark');
    sun.style.display = 'none';
    moon.style.display = 'block';
  }
  localStorage.setItem('theme', t);
}
applyTheme(theme);

themeBtn.onclick = () => {
  theme = (theme === 'dark') ? 'light' : 'dark';
  applyTheme(theme);
};

/* 3. Relógio */
function updateClock(){
  const n = new Date();
  const t = n.toLocaleTimeString('pt-BR', {hour:"2-digit", minute:"2-digit", second:"2-digit"});
  const d = n.toLocaleDateString('pt-BR', {weekday:"short", day:"numeric", month:"long"});
  
  document.getElementById('topClock').innerHTML = `
    <span>${t}</span>
    <span style="font-size:12px; opacity:0.6; font-weight:400; display:block; margin-top:6px;">
      ${d}
    </span>`;
}
setInterval(updateClock, 1000);
updateClock();

/* 4. Clima API */
async function loadWeather(){
  try {
    const r = await fetch("https://api.open-meteo.com/v1/forecast?latitude=-20.18194&longitude=-49.35083&current_weather=true");
    const j = await r.json();
    const c = j.current_weather;
    document.getElementById('chipTemp').textContent = Math.round(c.temperature) + "°";
    
    let label = "Nublado";
    if(c.weathercode === 0) label = "Céu Limpo";
    else if([1,2,3].includes(c.weathercode)) label = "Parc. Nublado";
    else if([45,48].includes(c.weathercode)) label = "Neblina";
    else if([51,53,55,61,63,65,80,81,82].includes(c.weathercode)) label = "Chuva";
    else if([95,96,99].includes(c.weathercode)) label = "Tempestade";
    document.getElementById('chipCond').textContent = label;
  } catch(e) {
    document.getElementById('chipTemp').textContent = "--";
    document.getElementById('chipCond').textContent = "Indisponível";
  }
}
loadWeather();
setInterval(loadWeather, 600000);

/* 5. Pix */
const pixBtn = document.getElementById('pixButton');
const feedback = document.getElementById('pixFeedback');

pixBtn.onclick = () => {
  navigator.clipboard.writeText(MINHA_CHAVE_PIX).then(() => {
    feedback.classList.add('show');
    setTimeout(() => feedback.classList.remove('show'), 2000);
  }).catch(err => {
    alert("Chave Pix: " + MINHA_CHAVE_PIX);
  });
};
</script>

</body>
</html>
